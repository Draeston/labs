## Explanation

Prometheus Operator - it makes it easier to manage Prometheus in Kubernetes deployments in native way

Prometheus - powerful monitoring and alerting system for gathering metrics

Alertmanager - handler of alerts, i.e. proxy between the alerting system and receiving application/side

Node exporter - it helps to observe hardware and OS metrics of the node

Prometheus Adapter for Kubernetes Metrics APIs - adapter that brings hardware metrics to the Kubernetes for autoscaling purposes

kube-state-metrics - it provides metrics of the objects of the k8s infrastructure, such as pods, nodes, etc.

Grafana - data-visualisation platform for providing time-series data in configurable and understandable way

## Commands
```kubectl get po,sts,svc,pvc,cm``` shows Pods, StatefulSets, Services, PersistentVolumeClaims and ConfigMaps in the default namespace

```
$ kubectl get po,sts,svc,pvc,cm

NAME                                                         READY   STATUS    RESTARTS       AGE
pod/alertmanager-monitoring-kube-prometheus-alertmanager-0   2/2     Running   1 (109s ago)   2m14s
pod/monitoring-grafana-8448c6c7b6-vf4cn                      3/3     Running   0              2m30s
pod/monitoring-kube-prometheus-operator-8459ff867-hmsb2      1/1     Running   0              2m30s
pod/monitoring-kube-state-metrics-78b876647b-b47gb           1/1     Running   0              2m30s
pod/monitoring-prometheus-node-exporter-fvgqb                1/1     Running   0              2m30s
pod/prometheus-monitoring-kube-prometheus-prometheus-0       2/2     Running   0              2m13s
pod/stateful-python-app-0                                    1/1     Running   0              84s
pod/stateful-python-app-1                                    1/1     Running   0              84s
pod/stateful-python-app-2                                    1/1     Running   0              83s

NAME                                                                    READY   AGE
statefulset.apps/alertmanager-monitoring-kube-prometheus-alertmanager   1/1     2m14s
statefulset.apps/prometheus-monitoring-kube-prometheus-prometheus       1/1     2m13s
statefulset.apps/stateful-python-app                                    3/3     85s

NAME                                              TYPE           CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE
service/alertmanager-operated                     ClusterIP      None             <none>        9093/TCP,9094/TCP,9094/UDP   2m14s
service/kubernetes                                ClusterIP      10.96.0.1        <none>        443/TCP                      16h
service/monitoring-grafana                        ClusterIP      10.106.218.69    <none>        80/TCP                       2m30s
service/monitoring-kube-prometheus-alertmanager   ClusterIP      10.108.112.108   <none>        9093/TCP                     2m30s
service/monitoring-kube-prometheus-operator       ClusterIP      10.100.2.121     <none>        443/TCP                      2m30s
service/monitoring-kube-prometheus-prometheus     ClusterIP      10.105.58.199    <none>        9090/TCP                     2m30s
service/monitoring-kube-state-metrics             ClusterIP      10.97.249.47     <none>        8080/TCP                     2m30s
service/monitoring-prometheus-node-exporter       ClusterIP      10.106.243.162   <none>        9100/TCP                     2m30s
service/prometheus-operated                       ClusterIP      None             <none>        9090/TCP                     2m13s
service/stateful-python-app                       LoadBalancer   10.98.216.171    <pending>     80:32362/TCP                 85s

NAME                                                     STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE   
persistentvolumeclaim/app-volume-stateful-python-app-0   Bound    pvc-03b6cff3-42b5-4ef8-88f4-c469a3d07d89   1Gi        RWO            standard       84s   
persistentvolumeclaim/app-volume-stateful-python-app-1   Bound    pvc-2b5b4474-97cd-48b4-a142-eb57a02d0113   1Gi        RWO            standard       84s   
persistentvolumeclaim/app-volume-stateful-python-app-2   Bound    pvc-6613e995-1a37-4ee3-b234-deb412f36a01   1Gi        RWO            standard       83s   

NAME                                                                     DATA   AGE
configmap/app-configmap                                                  1      85s
configmap/kube-root-ca.crt                                               1      16h
configmap/monitoring-grafana                                             1      2m31s
configmap/monitoring-grafana-config-dashboards                           1      2m31s
configmap/monitoring-kube-prometheus-alertmanager-overview               1      2m31s
configmap/monitoring-kube-prometheus-apiserver                           1      2m31s
configmap/monitoring-kube-prometheus-cluster-total                       1      2m31s
configmap/monitoring-kube-prometheus-controller-manager                  1      2m31s
configmap/monitoring-kube-prometheus-etcd                                1      2m31s
configmap/monitoring-kube-prometheus-grafana-datasource                  1      2m31s
configmap/monitoring-kube-prometheus-grafana-overview                    1      2m31s
configmap/monitoring-kube-prometheus-k8s-coredns                         1      2m31s
configmap/monitoring-kube-prometheus-k8s-resources-cluster               1      2m31s
configmap/monitoring-kube-prometheus-k8s-resources-namespace             1      2m31s
configmap/monitoring-kube-prometheus-k8s-resources-node                  1      2m31s
configmap/monitoring-kube-prometheus-k8s-resources-pod                   1      2m31s
configmap/monitoring-kube-prometheus-k8s-resources-workload              1      2m31s
configmap/monitoring-kube-prometheus-k8s-resources-workloads-namespace   1      2m31s
configmap/monitoring-kube-prometheus-kubelet                             1      2m31s
configmap/monitoring-kube-prometheus-namespace-by-pod                    1      2m31s
configmap/monitoring-kube-prometheus-namespace-by-workload               1      2m31s
configmap/monitoring-kube-prometheus-node-cluster-rsrc-use               1      2m31s
configmap/monitoring-kube-prometheus-node-rsrc-use                       1      2m31s
configmap/monitoring-kube-prometheus-nodes                               1      2m31s
configmap/monitoring-kube-prometheus-nodes-darwin                        1      2m31s
configmap/monitoring-kube-prometheus-persistentvolumesusage              1      2m31s
configmap/monitoring-kube-prometheus-pod-total                           1      2m31s
configmap/monitoring-kube-prometheus-prometheus                          1      2m31s
configmap/monitoring-kube-prometheus-proxy                               1      2m31s
configmap/monitoring-kube-prometheus-scheduler                           1      2m31s
configmap/monitoring-kube-prometheus-workload-total                      1      2m31s
configmap/prometheus-monitoring-kube-prometheus-prometheus-rulefiles-0   29     2m14s
```

## Dashboards

### CPU and memory usage of the StatefulSet

No data for usages, but quotas are present.

![CPU](/k8s/screenshots14/1.png)

![Memory](/k8s/screenshots14/2.png)

### Most and least CPU-usage Pods

Again no data usage.

![CPU](/k8s/screenshots14/3.png)

### Node memory usage

No data usage in Compute Resources

![Memory](/k8s/screenshots14/4.png)

But data is present in the Node Exporter

![Memory](/k8s/screenshots14/5.png)

So, memory usage is 86.3%
### Kubelet Pods and containers

![Kubelet](/k8s/screenshots14/6.png)
There are 18 Pods and 28 containers

### Most and least Network-usage Pods

There is no data in both Compute Resources and Networking

![Compute Resources](/k8s/screenshots14/7.png)

![Networking](/k8s/screenshots14/8.png)

### Alert count

![Alerts](/k8s/screenshots14/9.png)
There is 9 alerts

## Init containers

```
$ kubectl exec init-containers -- cat /usr/share/nginx/html/index.html

Defaulted container "nginx" out of: nginx, install (init)
<html><head></head><body><header>
<title>http://info.cern.ch</title>
</header>

<h1>http://info.cern.ch - home of the first website</h1>
<p>From here you can:</p>
<ul>
<li><a href="http://info.cern.ch/hypertext/WWW/TheProject.html">Browse the first website</a></li>
<li><a href="http://line-mode.cern.ch/www/hypertext/WWW/TheProject.html">Browse the first website using the line-mode browser simulator</a></li>
<li><a href="http://home.web.cern.ch/topics/birth-web">Learn about the birth of the web</a></li>
<li><a href="http://home.web.cern.ch/about">Learn about CERN, the physics laboratory where the web was born</a></li>
</ul>
</body></html>
```